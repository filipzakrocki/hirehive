{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\filip\\\\Documents\\\\GitHub\\\\Sites\\\\hirehive\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _regeneratorRuntime from\"C:\\\\Users\\\\filip\\\\Documents\\\\GitHub\\\\Sites\\\\hirehive\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\filip\\\\Documents\\\\GitHub\\\\Sites\\\\hirehive\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";//components\nimport Search from\"./components/Search/Search\";import Results from\"./components/Results/Results\";import Spinner from\"./components/Spinner/Spinner\";import\"./App.css\";function App(){// hook for API data fetching once when component is rendered\nuseEffect(function(){function fetchJobs(){return _fetchJobs.apply(this,arguments);}function _fetchJobs(){_fetchJobs=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _results,_jobs;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"https://hirehive-testing-account.hirehive.com/api/v1/jobs\");case 3:_results=_context.sent;_context.next=6;return _results.data.jobs;case 6:_jobs=_context.sent;setJobs(_jobs);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);setError(_context.t0.message);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return _fetchJobs.apply(this,arguments);}fetchJobs();},[]);//state with react hooks\nvar _useState=useState(),_useState2=_slicedToArray(_useState,2),jobs=_useState2[0],setJobs=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),inputFilter=_useState4[0],setinputFilter=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),category=_useState6[0],setCategory=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];//input handler for 'search' component\nvar _filterChangeHandler=function filterChangeHandler(input){setinputFilter(input);};//category handler for 'search' component\nvar categoryChangeHandler=function categoryChangeHandler(uniqueCategory){if(category!==uniqueCategory){setCategory(uniqueCategory);}else{setCategory();}};//error message for errors, spinner for data fetching\nvar results=null;if(error){results=React.createElement(\"h1\",{className:\"App-error\"},error);}else if(jobs){results=React.createElement(Results,{error:error,jobs:jobs,inputFilter:inputFilter,category:category});}else{results=React.createElement(Spinner,null);}return React.createElement(\"div\",{className:\"App\"},React.createElement(Search,{jobs:jobs,disabled:error,category:category,filterChangeHandler:function filterChangeHandler(e){return _filterChangeHandler(e.target.value);},categoryChangeHandler:categoryChangeHandler}),results);}export default App;","map":{"version":3,"sources":["C:/Users/filip/Documents/GitHub/Sites/hirehive/src/App.js"],"names":["React","useState","useEffect","axios","Search","Results","Spinner","App","fetchJobs","get","results","data","jobs","setJobs","setError","message","inputFilter","setinputFilter","category","setCategory","error","filterChangeHandler","input","categoryChangeHandler","uniqueCategory","e","target","value"],"mappings":"2ZAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA;AACA,MAAOC,CAAAA,MAAP,KAAmB,4BAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,8BAApB,CACA,MAAOC,CAAAA,OAAP,KAAoB,8BAApB,CAEA,MAAO,WAAP,CAEA,QAASC,CAAAA,GAAT,EAAe,CAEb;AACAL,SAAS,CAAC,UAAM,SACCM,CAAAA,SADD,qIACd,4LAE0BL,CAAAA,KAAK,CAACM,GAAN,CACtB,2DADsB,CAF1B,QAEUC,QAFV,qCAIuBA,CAAAA,QAAO,CAACC,IAAR,CAAaC,IAJpC,QAIUA,KAJV,eAKIC,OAAO,CAACD,KAAD,CAAP,CALJ,iFAOIE,QAAQ,CAAC,YAAMC,OAAP,CAAR,CAPJ,qEADc,4CAWdP,SAAS,GACV,CAZQ,CAYN,EAZM,CAAT,CAcA;AAjBa,cAkBWP,QAAQ,EAlBnB,wCAkBNW,IAlBM,eAkBAC,OAlBA,8BAmByBZ,QAAQ,EAnBjC,yCAmBNe,WAnBM,eAmBOC,cAnBP,8BAoBmBhB,QAAQ,EApB3B,yCAoBNiB,QApBM,eAoBIC,WApBJ,8BAqBalB,QAAQ,EArBrB,yCAqBNmB,KArBM,eAqBCN,QArBD,eAwBb;AACA,GAAMO,CAAAA,oBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAAAC,KAAK,CAAI,CACnCL,cAAc,CAACK,KAAD,CAAd,CACD,CAFD,CAIA;AACA,GAAMC,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,CAAAC,cAAc,CAAI,CAC9C,GAAIN,QAAQ,GAAKM,cAAjB,CAAiC,CAC/BL,WAAW,CAACK,cAAD,CAAX,CACD,CAFD,IAEO,CACLL,WAAW,GACZ,CACF,CAND,CAQA;AACA,GAAIT,CAAAA,OAAO,CAAG,IAAd,CACA,GAAIU,KAAJ,CAAW,CACTV,OAAO,CAAG,0BAAI,SAAS,CAAC,WAAd,EAA2BU,KAA3B,CAAV,CACD,CAFD,IAEO,IAAIR,IAAJ,CAAU,CACfF,OAAO,CAAG,oBAAC,OAAD,EAAS,KAAK,CAAEU,KAAhB,CAAuB,IAAI,CAAER,IAA7B,CAAmC,WAAW,CAAEI,WAAhD,CAA6D,QAAQ,CAAEE,QAAvE,EAAV,CACD,CAFM,IAEA,CACLR,OAAO,CAAG,oBAAC,OAAD,MAAV,CACD,CAED,MACE,4BAAK,SAAS,CAAC,KAAf,EACE,oBAAC,MAAD,EACE,IAAI,CAAEE,IADR,CAEE,QAAQ,CAAEQ,KAFZ,CAGE,QAAQ,CAAEF,QAHZ,CAIE,mBAAmB,CAAE,6BAAAO,CAAC,QAAIJ,CAAAA,oBAAmB,CAACI,CAAC,CAACC,MAAF,CAASC,KAAV,CAAvB,EAJxB,CAKE,qBAAqB,CAAEJ,qBALzB,EADF,CAQGb,OARH,CADF,CAYD,CAED,cAAeH,CAAAA,GAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\n//components\r\nimport Search from \"./components/Search/Search\";\r\nimport Results from \"./components/Results/Results\";\r\nimport Spinner from \"./components/Spinner/Spinner\";\r\n\r\nimport \"./App.css\";\r\n\r\nfunction App() {\r\n\r\n  // hook for API data fetching once when component is rendered\r\n  useEffect(() => {\r\n    async function fetchJobs() {\r\n      try {\r\n        const results = await axios.get(\r\n        \"https://hirehive-testing-account.hirehive.com/api/v1/jobs\");\r\n        const jobs = await results.data.jobs;\r\n        setJobs(jobs);\r\n      } catch(error) {\r\n        setError(error.message);\r\n      }\r\n    }\r\n    fetchJobs();\r\n  }, []);\r\n\r\n  //state with react hooks\r\n  const [jobs, setJobs] = useState();\r\n  const [inputFilter, setinputFilter] = useState();\r\n  const [category, setCategory] = useState();\r\n  const [error, setError] = useState();\r\n\r\n\r\n  //input handler for 'search' component\r\n  const filterChangeHandler = input => {\r\n    setinputFilter(input);\r\n  };\r\n\r\n  //category handler for 'search' component\r\n  const categoryChangeHandler = uniqueCategory => {\r\n    if (category !== uniqueCategory) {\r\n      setCategory(uniqueCategory);\r\n    } else {\r\n      setCategory();\r\n    }\r\n  };\r\n\r\n  //error message for errors, spinner for data fetching\r\n  let results = null;\r\n  if (error) {\r\n    results = <h1 className='App-error'>{error}</h1>;\r\n  } else if (jobs) {\r\n    results = <Results error={error} jobs={jobs} inputFilter={inputFilter} category={category} />\r\n  } else {\r\n    results = <Spinner />\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Search\r\n        jobs={jobs}\r\n        disabled={error}\r\n        category={category}\r\n        filterChangeHandler={e => filterChangeHandler(e.target.value)}\r\n        categoryChangeHandler={categoryChangeHandler}\r\n      />\r\n      {results}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}